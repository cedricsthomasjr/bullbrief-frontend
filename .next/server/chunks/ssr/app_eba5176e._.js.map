{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/cjthomas/Desktop/CSPersonal/bullbrief/bullbrief-frontend/app/components/MetricChart.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ResponsiveContainer,\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid,\n  Legend\n} from \"recharts\";\n\nimport { motion } from \"framer-motion\";\n\nconst formatNumber = (num: number) => {\n  return num >= 1e9\n    ? `$${(num / 1e9).toFixed(1)}B`\n    : num >= 1e6\n    ? `$${(num / 1e6).toFixed(1)}M`\n    : `$${num.toLocaleString()}`;\n};\n\ntype Props = {\n    data: { year: number; value: number }[] | null;\n    title: string;\n  };\n  \n\nexport default function MetricChart({ data, title }: Props) {\n  if (!data || !Array.isArray(data) || data.length === 0) {\n    console.warn(\"MetricChart: No valid data passed\", data);\n    return (\n      <div className=\"text-center text-gray-400 py-12\">\n        No data available for this metric.\n      </div>\n    );\n  }\n\n  const sortedData = [...data].sort((a, b) => a.year - b.year);\n\n  return (\n    <motion.div\n      key={title}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n      className=\"bg-zinc-900 p-6 rounded-xl shadow border border-zinc-700\"\n    >\n      <h2 className=\"text-2xl font-bold text-white mb-6 capitalize tracking-tight\">\n        {title} Trend\n      </h2>\n      <ResponsiveContainer width=\"100%\" height={350}>\n        <LineChart data={sortedData} margin={{ top: 10, right: 20, bottom: 5, left: 0 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#333\" />\n          <XAxis\n            dataKey=\"year\"\n            stroke=\"#ccc\"\n            fontSize={12}\n            tickLine={false}\n            axisLine={false}\n          />\n          <YAxis\n            stroke=\"#ccc\"\n            fontSize={12}\n            tickFormatter={(v) => formatNumber(v)}\n            tickLine={false}\n            axisLine={false}\n          />\n          <Tooltip\n            contentStyle={{ backgroundColor: \"#1f2937\", border: \"none\" }}\n            labelStyle={{ color: \"#ccc\" }}\n            formatter={(value: any) => {\n              const num = typeof value === \"number\" ? value : parseFloat(value);\n              return isNaN(num) ? \"-\" : formatNumber(num);\n            }}\n          />\n          <Legend verticalAlign=\"top\" height={36} iconType=\"circle\" wrapperStyle={{ color: '#ccc' }} />\n          <Line\n            type=\"monotone\"\n            dataKey=\"value\"\n            name={title}\n            stroke=\"#3b82f6\"\n            strokeWidth={3}\n            dot={{ r: 4, stroke: \"#fff\", strokeWidth: 2 }}\n            activeDot={{ r: 6 }}\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAbA;;;;AAeA,MAAM,eAAe,CAAC;IACpB,OAAO,OAAO,MACV,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAC7B,OAAO,MACP,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAC7B,CAAC,CAAC,EAAE,IAAI,cAAc,IAAI;AAChC;AAQe,SAAS,YAAY,EAAE,IAAI,EAAE,KAAK,EAAS;IACxD,IAAI,CAAC,QAAQ,CAAC,MAAM,OAAO,CAAC,SAAS,KAAK,MAAM,KAAK,GAAG;QACtD,QAAQ,IAAI,CAAC,qCAAqC;QAClD,qBACE,8OAAC;YAAI,WAAU;sBAAkC;;;;;;IAIrD;IAEA,MAAM,aAAa;WAAI;KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,IAAI,GAAG,EAAE,IAAI;IAE3D,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;QAET,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;;0BAEV,8OAAC;gBAAG,WAAU;;oBACX;oBAAM;;;;;;;0BAET,8OAAC,mKAAA,CAAA,sBAAmB;gBAAC,OAAM;gBAAO,QAAQ;0BACxC,cAAA,8OAAC,qJAAA,CAAA,YAAS;oBAAC,MAAM;oBAAY,QAAQ;wBAAE,KAAK;wBAAI,OAAO;wBAAI,QAAQ;wBAAG,MAAM;oBAAE;;sCAC5E,8OAAC,6JAAA,CAAA,gBAAa;4BAAC,iBAAgB;4BAAM,QAAO;;;;;;sCAC5C,8OAAC,qJAAA,CAAA,QAAK;4BACJ,SAAQ;4BACR,QAAO;4BACP,UAAU;4BACV,UAAU;4BACV,UAAU;;;;;;sCAEZ,8OAAC,qJAAA,CAAA,QAAK;4BACJ,QAAO;4BACP,UAAU;4BACV,eAAe,CAAC,IAAM,aAAa;4BACnC,UAAU;4BACV,UAAU;;;;;;sCAEZ,8OAAC,uJAAA,CAAA,UAAO;4BACN,cAAc;gCAAE,iBAAiB;gCAAW,QAAQ;4BAAO;4BAC3D,YAAY;gCAAE,OAAO;4BAAO;4BAC5B,WAAW,CAAC;gCACV,MAAM,MAAM,OAAO,UAAU,WAAW,QAAQ,WAAW;gCAC3D,OAAO,MAAM,OAAO,MAAM,aAAa;4BACzC;;;;;;sCAEF,8OAAC,sJAAA,CAAA,SAAM;4BAAC,eAAc;4BAAM,QAAQ;4BAAI,UAAS;4BAAS,cAAc;gCAAE,OAAO;4BAAO;;;;;;sCACxF,8OAAC,oJAAA,CAAA,OAAI;4BACH,MAAK;4BACL,SAAQ;4BACR,MAAM;4BACN,QAAO;4BACP,aAAa;4BACb,KAAK;gCAAE,GAAG;gCAAG,QAAQ;gCAAQ,aAAa;4BAAE;4BAC5C,WAAW;gCAAE,GAAG;4BAAE;;;;;;;;;;;;;;;;;;OA1CnB;;;;;AAgDX","debugId":null}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/cjthomas/Desktop/CSPersonal/bullbrief/bullbrief-frontend/app/components/LoadingScreen.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nconst funFacts = [\n    \"ðŸ“ˆ Warren Buffett bought his first stock at age 11.\",\n    \"ðŸ’° The S&P 500 has averaged ~10% annual returns since inception.\",\n    \"ðŸ¦ The NYSE was founded in 1792 under a buttonwood tree on Wall Street.\",\n    \"ðŸš— Tesla first turned a profit in Q3 of 2019.\",\n    \"ðŸ§  Peter Lynch averaged 29% annual returns managing the Magellan Fund.\",\n    \"ðŸŒ Only ~60 companies in the world have a $200B+ market cap.\",\n    \"ðŸ“‰ The largest single-day Dow drop was -2,997 points on March 16, 2020.\",\n    \"ðŸ“± Appleâ€™s market cap once surpassed the GDP of the UK.\",\n    \"ðŸ” Stock market corrections (10%+ drops) happen every 1-2 years on average.\",\n    \"ðŸ“† October is historically the most volatile month for U.S. stocks.\",\n    \"ðŸ§¾ Dividends account for roughly 40% of total S&P 500 returns over time.\",\n    \"ðŸ§® The P/E ratio is one of the most common valuation metrics investors use.\",\n    \"ðŸŒ¡ï¸ Inflation eats away at returns â€” that's why real return > nominal return.\",\n    \"ðŸ“¦ Amazon didnâ€™t turn a yearly profit until 2003 â€” 9 years after launching.\",\n    \"ðŸŽ¯ Dollar-cost averaging can reduce timing risk over long investment periods.\",\n    \"ðŸ§¬ The Nasdaq is more tech-heavy, while the Dow is price-weighted.\",\n    \"ðŸ“‰ Bear markets typically last less than a year, while bull markets last ~3.8 years on average.\",\n    \"ðŸ’¸ Buying during fear can outperform selling during hype.\",\n    \"ðŸš€ In 2020, retail investors drove GameStop up over 1,700% in a month.\",\n    \"ðŸŒŽ U.S. stocks make up ~60% of the global equity market cap.\",\n    \"ðŸ”„ The VIX is a volatility index â€” often called the marketâ€™s â€œfear gauge.â€\",\n    \"ðŸ”’ Bonds are generally less volatile than stocks, but offer lower returns.\",\n    \"ðŸª™ Bitcoin was worth less than a penny in 2010 â€” now over $60,000 at peak.\",\n    \"ðŸ›ï¸ The Fed doesnâ€™t set stock prices, but it heavily influences them via rates.\",\n    \"ðŸ“š Long-term investing tends to outperform short-term trading for most investors.\",\n  ];\n\n  export default function LoadingScreen({ isLoading = true }: { isLoading?: boolean }) {\n    const [currentFactIndex, setCurrentFactIndex] = useState(0);\n\n  useEffect(() => {\n    if (!isLoading) return;\n\n    const interval = setInterval(() => {\n      setCurrentFactIndex((prev) => (prev + 1) % funFacts.length);\n    }, 3000);\n\n    return () => clearInterval(interval);\n  }, [isLoading]);\n\n  return (\n    <AnimatePresence>\n      {isLoading && (\n        <motion.div\n          className=\"fixed inset-0 z-50 bg-black text-white flex flex-col items-center justify-center space-y-6 px-4 text-center\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          <motion.h1\n            className=\"text-2xl font-semibold text-blue-400\"\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n          >\n            Generating Summary...\n          </motion.h1>\n\n          <motion.p\n            key={currentFactIndex}\n            className=\"text-sm text-gray-300 max-w-md\"\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            transition={{ duration: 0.5 }}\n          >\n            {funFacts[currentFactIndex]}\n          </motion.p>\n\n          <div className=\"h-8 w-8 rounded-full border-t-2 border-blue-400 border-opacity-50 animate-spin\" />\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AAKA,MAAM,WAAW;IACb;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS,cAAc,EAAE,YAAY,IAAI,EAA2B;IACjF,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,WAAW;QAEhB,MAAM,WAAW,YAAY;YAC3B,oBAAoB,CAAC,OAAS,CAAC,OAAO,CAAC,IAAI,SAAS,MAAM;QAC5D,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAU;IAEd,qBACE,8OAAC,yLAAA,CAAA,kBAAe;kBACb,2BACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;YACT,WAAU;YACV,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;;8BAEnB,8OAAC,0LAAA,CAAA,SAAM,CAAC,EAAE;oBACR,WAAU;oBACV,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAC9B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,YAAY;wBAAE,OAAO;oBAAI;8BAC1B;;;;;;8BAID,8OAAC,0LAAA,CAAA,SAAM,CAAC,CAAC;oBAEP,WAAU;oBACV,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAC3B,YAAY;wBAAE,UAAU;oBAAI;8BAE3B,QAAQ,CAAC,iBAAiB;mBAPtB;;;;;8BAUP,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAKzB","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/cjthomas/Desktop/CSPersonal/bullbrief/bullbrief-frontend/app/summary/%5Bticker%5D/metric/%5Bmetric%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { useParams } from \"next/navigation\";\nimport MetricChart from \"@/app/components/MetricChart\";\nimport LoadingScreen from \"@/app/components/LoadingScreen\";\n\nexport default function MetricDetailPage() {\n  const { ticker, metric } = useParams() as { ticker: string; metric: string };\n  const [aiSummary, setAiSummary] = useState<string | null>(null);\n  const [data, setData] = useState<{ year: number; value: number }[] | null>(null);\n  const lastGoodData = useRef<{ year: number; value: number }[] | null>(null);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [summaryLoading, setSummaryLoading] = useState(true);\n  const bulletPoints = aiSummary\n  ?.split(\"\\n\")\n  .filter((line) => line.trim().startsWith(\"-\"))\n  .map((line) => line.replace(/^- /, \"\").trim());\n\n  useEffect(() => {\n    if (!ticker || !metric) return;\n  \n    const fetchData = async () => {\n      setDataLoading(true);\n      try {\n        const endpoint =\n          [\"eps\", \"revenue\"].includes(metric.toLowerCase())\n            ? `http://localhost:8000/metric/${ticker}/${metric}` // <â€” use new clean route\n            : `http://localhost:8000/macrotrends/${ticker}`;\n  \n        const res = await fetch(endpoint);\n        const json = await res.json();\n  \n        let extractedData = null;\n  \n        if ([\"eps\", \"revenue\"].includes(metric.toLowerCase())) {\n          extractedData = json.data;\n        } else {\n          const metricKey = Object.keys(json.data).find(\n            (k) => k.toLowerCase() === metric.toLowerCase()\n          );\n          extractedData = metricKey && Array.isArray(json.data[metricKey])\n            ? json.data[metricKey]\n            : null;\n        }\n  \n        if (extractedData) {\n          lastGoodData.current = extractedData;\n          setData(extractedData);\n        } else {\n          setData(lastGoodData.current);\n        }\n      } catch (e) {\n        console.error(\"Failed to fetch metric data:\", e);\n        setData(lastGoodData.current);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n  \n    fetchData();\n  }, [ticker, metric]);\n  \n\n  useEffect(() => {\n    if (!ticker || !metric) return;\n\n    const fetchAISummary = async () => {\n      setSummaryLoading(true);\n      try {\n        const res = await fetch(`http://localhost:8000/interpret/${ticker}?metric=${metric}`);\n        const json = await res.json();\n        setAiSummary(json.analysis ?? null);\n      } catch (err) {\n        setAiSummary(null);\n      } finally {\n        setSummaryLoading(false);\n      }\n    };\n\n    fetchAISummary();\n  }, [ticker, metric]);\n\n  if (dataLoading) return <LoadingScreen />;\n\n  return (\n<div className=\"max-w-5xl mx-auto px-6 pt-24 pb-12 text-white space-y-10\">\n  <h1 className=\"text-4xl font-bold capitalize tracking-tight\">\n    {metric} â€“ {ticker}\n  </h1>\n\n  {/* Chart Section */}\n  <section className=\"space-y-6\">\n    <MetricChart data={data} title={metric} />\n  </section>\n\n  {/* AI Interpretation Section */}\n  <section className=\"space-y-6\">\n    <h2 className=\"text-2xl font-semibold text-white tracking-tight\">ðŸ§  AI Interpretation</h2>\n\n    {summaryLoading ? (\n      <p className=\"text-gray-500 italic animate-pulse\">Generating summary...</p>\n    ) : bulletPoints && bulletPoints.length > 0 ? (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n        {bulletPoints.map((point, idx) => {\n          const [title, ...rest] = point.split(\":\");\n          return (\n            <div key={idx} className=\"bg-zinc-900 border border-zinc-700 p-5 rounded-xl shadow hover:shadow-md transition\">\n              <p className=\"text-blue-400 font-semibold mb-1\">{title}</p>\n              <p className=\"text-gray-300 text-sm leading-relaxed\">{rest.join(\":\").trim()}</p>\n            </div>\n          );\n        })}\n      </div>\n    ) : (\n      <p className=\"text-red-500 italic\">Could not generate summary.</p>\n    )}\n  </section>\n</div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}